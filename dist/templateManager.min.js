!function(e,f){"use strict";function a(n,a,i){var o=u+n+c,f=function(){a&&a(t[n].template)};if(t[n])return"resolved"===t[n].deffered.state()?f():e.when(t[n].deffered).done(function(){f()}),t[n].deffered;var s=e.ajax({url:o,method:"GET",async:!i,cache:d,success:function(e){t[n].template=r(e),f()}});return t[n]={deffered:s},t[n].deffered}var t={},u="/",c=".jst",r=f._&&f._.template,d=!1,n={setBasePath:function(e){return u=e,n},setTemplateEngine:function(e){return r=e,n},setAjaxCache:function(e){return d=e,n},setTemplateExtension:function(e){return c=e,n},cacheScriptTemplates:function(f,a){return e(f).each(function(){var n=e(this);t[n.data(a)]={template:r(n.html()),deffered:e.Deferred().resolve()}}),n},register:function(r,f){return t[r]={template:f,deffered:e.Deferred().resolve()},n}};e.extend(a,n),e.wk=e.wk||{},e.wk.getTemplate=a}(window.jQuery,window);