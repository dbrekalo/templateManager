!function(e,f){"use strict";function d(f,u,s){var i,l=a+f+c,n=t[f],d=function(){u&&u(t[f].template)};return n?("resolved"===n.deffered.state()?d():n.$domRef?(n.compiled||(n.template=r(n.$domRef.html()),n.compiled=!0,n.deffered.resolve()),d()):e.when(n.deffered).done(function(){d()}),n.deffered):(i=e.ajax({url:l,method:"GET",async:!s,cache:o,success:function(e){t[f].template=r(e),d()}}),t[f]={deffered:i},t[f].deffered)}var t={},a="/",c=".jst",r=f._&&f._.template,o=!1,n={setBasePath:function(e){return a=e,n},setTemplateEngine:function(e){return r=e,n},setAjaxCache:function(e){return o=e,n},setTemplateExtension:function(e){return c=e,n},cacheScriptTemplates:function(r,f){return e(r).each(function(){var n=e(this);t[n.data(f)]={deffered:e.Deferred(),$domRef:n}}),n},register:function(r,f){return t[r]={template:f,deffered:e.Deferred().resolve()},n}};e.extend(d,n),e.wk=e.wk||{},e.wk.getTemplate=d}(window.jQuery,window);