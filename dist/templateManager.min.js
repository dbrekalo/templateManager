!function($,r){"use strict";function f(r,c,u){var o=a+r+d,t=e[r],f=function(){c&&c(e[r].template)};if(t)return"resolved"===t.deffered.state()?f():t.templateString?(t.compiled||(t.template=n(t.templateString),t.compiled=!0,t.deffered.resolve()),f()):$.when(t.deffered).done(function(){f()}),t.deffered;var s=$.ajax({url:o,method:"GET",async:!u,cache:i,success:function(t){e[r].template=n(t),f()}});return e[r]={deffered:s},e[r].deffered}var e={},a="/",d=".jst",n=r._&&r._.template,i=!1,t={setBasePath:function(e){return a=e,t},setTemplateEngine:function(e){return n=e,t},setAjaxCache:function(e){return i=e,t},setTemplateExtension:function(e){return d=e,t},cacheScriptTemplates:function(n,r){return $(n).each(function(){var t=$(this);e[t.data(r)]={deffered:$.Deferred(),templateString:t.text()}}),t},register:function(n,r){return e[n]={template:r,deffered:$.Deferred().resolve()},t}};$.extend(f,t),$.wk=$.wk||{},$.wk.getTemplate=f}(window.jQuery,window);